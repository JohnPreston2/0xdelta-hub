<!DOCTYPE html>
<html lang="fr" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>0xDelta | Cyber Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600&family=Orbitron:wght@400;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #030014;
            --card: rgba(10, 10, 25, 0.7);
            --neon-blue: #00d2ff;
            --neon-purple: #9d50bb;
            --neon-red: #ff0055;
            --border: rgba(255, 255, 255, 0.08);
        }
        body {
            background-color: var(--bg);
            background-image: 
                radial-gradient(circle at 50% 0%, rgba(157, 80, 187, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(0, 210, 255, 0.1) 0%, transparent 40%);
            color: #e2e8f0;
            font-family: 'Exo 2', sans-serif;
        }
        .heading-font { font-family: 'Orbitron', sans-serif; }
        .code-font { font-family: 'Fira Code', monospace; }
        .cyber-card {
            background: var(--card);
            backdrop-filter: blur(15px);
            border: 1px solid var(--border);
            transition: all 0.4s;
        }
        .cyber-card:hover {
            border-color: rgba(0, 210, 255, 0.3);
            box-shadow: 0 0 20px rgba(0, 210, 255, 0.1);
        }
        .scanline {
            width: 100%; height: 2px;
            background: rgba(0, 210, 255, 0.05);
            position: absolute;
            animation: scanline 8s linear infinite;
        }
        @keyframes scanline { 0% { top: 0; } 100% { top: 100%; } }
    </style>
</head>
<body class="min-h-screen pb-24">
    <div class="scanline"></div>
    <nav class="sticky top-0 z-50 px-6 py-4 flex justify-between items-center border-b border-white/5 bg-black/40 backdrop-blur-md">
        <div class="flex items-center space-x-4">
            <div class="w-10 h-10 bg-black rounded-lg flex items-center justify-center border border-white/10">
                <span class="heading-font text-cyan-400 font-bold text-xl">Î”</span>
            </div>
            <div>
                <h1 class="heading-font text-lg font-bold tracking-widest uppercase">0xDelta <span class="text-xs text-purple-500 ml-2">v2.0</span></h1>
                <p class="text-[9px] code-font text-slate-500 uppercase">Community Agent // Neural Monitoring</p>
            </div>
        </div>
        <div id="update-timer" class="code-font text-[10px] px-4 py-1.5 rounded-sm border border-cyan-500/20 bg-cyan-500/5 text-cyan-400">LOADING...</div>
    </nav>
    <main class="max-w-[1700px] mx-auto px-6 mt-12">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-20">
            <div class="space-y-6">
                <div class="flex items-center space-x-3 border-l-2 border-purple-500 pl-4">
                    <h3 class="heading-font text-sm font-bold tracking-[0.2em] text-purple-400">SOLANA_CORE</h3>
                </div>
                <div id="solana-list" class="space-y-4"></div>
            </div>
            <div class="space-y-6">
                <div class="flex items-center space-x-3 border-l-2 border-blue-500 pl-4">
                    <h3 class="heading-font text-sm font-bold tracking-[0.2em] text-blue-400">BASE_NETWORK</h3>
                </div>
                <div id="base-list" class="space-y-4"></div>
            </div>
            <div class="space-y-6">
                <div class="flex items-center space-x-3 border-l-2 border-red-500 pl-4">
                    <span class="text-xl">ðŸ¦ž</span>
                    <h3 class="heading-font text-sm font-bold tracking-[0.2em] text-red-500">OPENCLAW_AGENTS</h3>
                </div>
                <div id="openclaw-list" class="space-y-4"></div>
            </div>
        </div>
    </main>
    <script>
        function formatCash(n) {
            n = parseFloat(n) || 0;
            if (n < 1e3) return n.toFixed(0);
            if (n < 1e6) return (n / 1e3).toFixed(1) + "K";
            if (n < 1e9) return (n / 1e6).toFixed(1) + "M";
            return (n / 1e9).toFixed(1) + "B";
        }
        function renderTokens(tokens, elementId, color) {
            const container = document.getElementById(elementId);
            if (!tokens || tokens.length === 0) { container.innerHTML = '<p class="text-slate-500 text-sm">No data</p>'; return; }
            const neonColor = color === 'purple' ? 'text-purple-400' : 'text-blue-400';
            container.innerHTML = tokens.map(t => {
                const change = parseFloat(t.price_change_24h) || 0;
                return '<div class="cyber-card p-6 rounded-lg"><div class="flex justify-between items-start mb-4"><div><h4 class="heading-font text-base font-bold">' + t.symbol + '</h4><p class="code-font text-[9px] text-slate-600 mt-1">' + (t.pool_address || '').slice(0,12) + '...</p></div><div class="text-right"><p class="code-font text-sm font-bold ' + neonColor + '">$' + parseFloat(t.price_usd).toFixed(6) + '</p><p class="code-font text-[10px] ' + (change >= 0 ? 'text-green-500' : 'text-red-500') + '">' + (change >= 0 ? 'â–²' : 'â–¼') + ' ' + Math.abs(change).toFixed(1) + '%</p></div></div><div class="flex justify-between mt-6 pt-4 border-t border-white/5 code-font text-[9px] text-slate-500"><div>MCAP <span class="text-slate-300">$' + formatCash(t.market_cap_usd) + '</span></div><div>VOL <span class="text-slate-300">$' + formatCash(t.volume_24h) + '</span></div></div></div>';
            }).join('');
        }
        function renderOpenClaw(tokens) {
            const container = document.getElementById('openclaw-list');
            if (!tokens || tokens.length === 0) { container.innerHTML = '<p class="text-slate-500 text-sm">No data</p>'; return; }
            container.innerHTML = tokens.map(t => {
                const change = parseFloat(t.price_change_24h) || 0;
                const isLive = t.pool_address !== "---" && parseFloat(t.price_usd) > 0;
                return '<div class="cyber-card p-4 rounded-lg ' + (isLive ? '' : 'opacity-60') + '"><div class="flex justify-between items-start mb-2"><div><h4 class="heading-font text-xs font-bold ' + (isLive ? 'text-red-400' : 'text-slate-400') + '">' + (t.name || t.symbol) + '</h4><p class="code-font text-[8px] text-slate-600">' + t.symbol + '</p></div><div class="text-right"><p class="code-font text-[10px] font-bold text-red-500">' + (isLive ? '$' + parseFloat(t.price_usd).toFixed(6) : 'OFFLINE') + '</p>' + (isLive ? '<p class="code-font text-[8px] ' + (change >= 0 ? 'text-green-500' : 'text-red-500') + '">' + (change >= 0 ? 'â–²' : 'â–¼') + ' ' + Math.abs(change).toFixed(1) + '%</p>' : '') + '</div></div>' + (isLive ? '<div class="mt-3 pt-2 border-t border-white/5 flex justify-between text-[8px] code-font text-slate-500"><div>MCAP <span class="text-slate-300">$' + formatCash(t.market_cap_usd) + '</span></div><div class="w-1 h-1 rounded-full bg-red-500 animate-pulse"></div></div>' : '') + '</div>';
            }).join('');
        }
        function updateTimer(lastUpdated) {
            const timerEl = document.getElementById('update-timer');
            const diffMin = Math.floor((new Date() - new Date(lastUpdated)) / 60000);
            timerEl.innerText = diffMin < 60 ? 'UPDATED ' + diffMin + 'M AGO' : 'UPDATED ' + Math.floor(diffMin/60) + 'H AGO';
        }
        async function loadData() {
            try {
                const res = await fetch('data.json?' + Date.now());
                const data = await res.json();
                updateTimer(data.updated_at);
                renderTokens(data.trending_solana, 'solana-list', 'purple');
                renderTokens(data.trending_base, 'base-list', 'blue');
                renderOpenClaw(data.openclaw_tokens);
            } catch (err) { console.error(err); }
        }
        loadData();
        setInterval(loadData, 5 * 60 * 1000);
    </script>
</body>
</html>